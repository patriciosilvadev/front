<div class="ngx-toolbar" *ngIf="config['showToolbar']">
        <div class="ngx-toolbar-set">
            <button type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('print')" (click)="triggerCommand('print')" title="Imprimir" [disabled]="!config['enableToolbar']">
                <i class="fa fa-print" aria-hidden="true"></i>
            </button>
        </div>
        <div class="ngx-toolbar-set">
            <button type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('bold')" (click)="triggerCommand('bold')" title="Negrito" [disabled]="!config['enableToolbar']">
                <img class="fa" aria-hidden="true" src="assets/icons/negrito.ico"/>
            </button>
            <button type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('italic')" (click)="triggerCommand('italic')" title="Italico" [disabled]="!config['enableToolbar']">
                <i class="fa fa-italic" aria-hidden="true"></i>
            </button>
            <button type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('underline')" (click)="triggerCommand('underline')" title="Sublinhado" [disabled]="!config['enableToolbar']">
                <img class="fa" aria-hidden="true" src="assets/icons/sublinhado.ico"/>
            </button>
            <button type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('strikeThrough')" (click)="triggerCommand('strikeThrough')" title="Tachado" [disabled]="!config['enableToolbar']">
                <i class="fa fa-strikethrough" aria-hidden="true"></i>
            </button>
            <button type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('superscript')" (click)="triggerCommand('superscript')" title="Sobrescrito" [disabled]="!config['enableToolbar']">
                <i class="fa fa-superscript" aria-hidden="true"></i>
            </button>
            <button type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('subscript')" (click)="triggerCommand('subscript')" title="Subscrito" [disabled]="!config['enableToolbar']">
                <i class="fa fa-subscript" aria-hidden="true"></i>
            </button>
        </div>
        <div class="ngx-toolbar-set">
            <button type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('justifyLeft')" (click)="triggerCommand('justifyLeft')" title="Justificado Esquerda" [disabled]="!config['enableToolbar']">
                <i class="fa fa-align-left" aria-hidden="true"></i>
            </button>
            <button type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('justifyCenter')" (click)="triggerCommand('justifyCenter')" title="Centralizado" [disabled]="!config['enableToolbar']">
                <i class="fa fa-align-center" aria-hidden="true"></i>
            </button>
            <button type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('justifyRight')" (click)="triggerCommand('justifyRight')" title="Justificado Direita" [disabled]="!config['enableToolbar']">
                <i class="fa fa-align-right" aria-hidden="true"></i>
            </button>
            <button type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('justifyFull')" (click)="triggerCommand('justifyFull')" title="Justificado" [disabled]="!config['enableToolbar']">
                <i class="fa fa-align-justify" aria-hidden="true"></i>
            </button>
            <button type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('indent')" (click)="triggerCommand('indent')" title="Aumentar Recuo" [disabled]="!config['enableToolbar']">
                <i class="fa fa-indent" aria-hidden="true"></i>
            </button>
            <button type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('outdent')" (click)="triggerCommand('outdent')" title="Diminuir Recuo" [disabled]="!config['enableToolbar']">
                <i class="fa fa-outdent" aria-hidden="true"></i>
            </button>
        </div>
        <div class="ngx-toolbar-set">
            <button type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('paragraph')" (click)="triggerCommand('insertParagraph')" title="Paragrafo" [disabled]="!config['enableToolbar']">
                <i class="fa fa-paragraph" aria-hidden="true"></i>
            </button>
            <button type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('blockquote')" (click)="triggerCommand('blockquote')" title="Citação" [disabled]="!config['enableToolbar']">
                <i class="fa fa-quote-left" aria-hidden="true"></i>
            </button>
            <button type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('removeBlockquote')" (click)="triggerCommand('removeBlockquote')" title="Remove Citação" [disabled]="!config['enableToolbar']">
                <i class="fa fa-quote-right" aria-hidden="true"></i>
            </button>
            <button type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('horizontalLine')" (click)="triggerCommand('insertHorizontalRule')" title="Linha Horizontal" [disabled]="!config['enableToolbar']">
                <i class="fa fa-minus" aria-hidden="true"></i>
            </button>
            <button type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('unorderedList')" (click)="triggerCommand('insertUnorderedList')" title="Lista Não Ordenada" [disabled]="!config['enableToolbar']">
                <i class="fa fa-list-ul" aria-hidden="true"></i>
            </button>
            <button type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('orderedList')" (click)="triggerCommand('insertOrderedList')" title="Lista Ordenada" [disabled]="!config['enableToolbar']">
                <i class="fa fa-list-ol" aria-hidden="true"></i>
            </button>
        </div>
        <div class="ngx-toolbar-set">
            <button 
                type="button" 
                class="ngx-editor-button" 
                *ngIf="canEnableToolbarOptions('link')" (click)="buildUrlForm()" [popover]="insertLinkTemplate" title="Inserir Link" #urlPopover="bs-popover" containerClass="ngxePopover" [disabled]="!config['enableToolbar']">
                <i class="fa fa-link" aria-hidden="true"></i>
            </button>
            <button type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('unlink')" (click)="triggerCommand('unlink')" title="Remover Link" [disabled]="!config['enableToolbar']">
                <i class="fa fa-chain-broken" aria-hidden="true"></i>
            </button>
            <button type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('image')" (click)="buildImageForm()" title="Inserir Imagem" [popover]="insertImageTemplate" #imagePopover="bs-popover" containerClass="ngxePopover" [disabled]="!config['enableToolbar']">
                <i class="fa fa-picture-o" aria-hidden="true"></i>
            </button>
            <button type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('video')" (click)="buildVideoForm()" title="Inserir Video" [popover]="insertVideoTemplate" #videoPopover="bs-popover" containerClass="ngxePopover" [disabled]="!config['enableToolbar']">
                <i class="fa fa-youtube-play" aria-hidden="true"></i>
            </button>
        </div>
        <div class="ngx-toolbar-set">
            <button type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('cut')" (click)="triggerCommand('cut')" title="Recortar" [disabled]="!config['enableToolbar']">
                <i class="fa fa-scissors" aria-hidden="true"></i>
            </button>
            <button type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('copy')" (click)="triggerCommand('copy')" title="Copiar" [disabled]="!config['enableToolbar']">
                <i class="fa fa-files-o" aria-hidden="true"></i>
            </button>
            <button type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('delete')" (click)="triggerCommand('delete')" title="Deletar" [disabled]="!config['enableToolbar']">
                <i class="fa fa-trash" aria-hidden="true"></i>
            </button>
            <button type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('removeFormat')" (click)="triggerCommand('removeFormat')" title="Limpar Formatação" [disabled]="!config['enableToolbar']">
                <i class="fa fa-eraser" aria-hidden="true"></i>
            </button>
            <button type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('undo')" (click)="triggerCommand('undo')" title="Desfazer" [disabled]="!config['enableToolbar']">
                <i class="fa fa-undo" aria-hidden="true"></i>
            </button>
            <button type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('redo')" (click)="triggerCommand('redo')" title="Refazer" [disabled]="!config['enableToolbar']">
                <i class="fa fa-repeat" aria-hidden="true"></i>
            </button>
        </div>
        <div class="ngx-toolbar-set">
            <button 
                type="button" 
                class="ngx-editor-button" 
                *ngIf="canEnableToolbarOptions('color')" 
                (click)="where = 'textColor'" 
                title="Cor do texto" 
                [popover]="insertColorPicker" 
                #colorPopoverText="bs-popover" 
                containerClass="ngxePopover" 
                [disabled]="!config['enableToolbar']"
            >
                <img class="fa" aria-hidden="true" src="assets/icons/colorFonte.ico"/>
            </button>
            <button type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('color')" (click)="where = 'backgroundColor'" title="Realce do texto" [popover]="insertColorPicker" #colorPopoverBack="bs-popover" containerClass="ngxePopover" [disabled]="!config['enableToolbar']">
                <img class="fa" aria-hidden="true" src="assets/icons/colorFundo.ico"/>
            </button>
            <button type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('fontName')" (click)="fontName = ''" title="Font Family" [popover]="fontNameTemplate" #fontNamePopover="bs-popover" containerClass="ngxePopover" [disabled]="!config['enableToolbar']">
                <i class="fa fa-font" aria-hidden="true"></i>
            </button>
            <button type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('fontSize')" (click)="fontSize = ''" title="Font Size" [popover]="fontSizeTemplate" #fontSizePopover="bs-popover" containerClass="ngxePopover" [disabled]="!config['enableToolbar']">
                <i class="fa fa-text-height" aria-hidden="true"></i>
            </button>
            <button hidden type="button" class="ngx-editor-button" *ngIf="canEnableToolbarOptions('color')" (click)="hexColor = ''" title="Color Picker" [popover]="insertColorTemplate" #colorPopover="bs-popover" containerClass="ngxePopover" [disabled]="!config['enableToolbar']">
                <i class="fa fa-tint" aria-hidden="true"></i>
            </button>
        </div>
    </div>
    
    <ng-template #insertColorPicker>
        <div class="ngxe-popover imgc-ctnr">
            <div class="colors">
                <div
                    *ngFor="let color of colorPicker.colors" 
                    class="color" 
                    [ngClass]="{ 'cor_selecionada' : (cor == color) }" 
                    (click)="trocaCor($event, color)"
                    [style.background]="color"
                ></div>
            </div>
        </div>
    </ng-template>
    
    <ng-template #insertColorTemplate>
        <div class="ngxe-popover imgc-ctnr">
            <div class="imgc-topbar two-tabs">
                <span (click)="selectedColorTab ='textColor'" [ngClass]="{active: selectedColorTab ==='textColor'}">Texto</span>
                <span (click)="selectedColorTab ='backgroundColor'" [ngClass]="{active: selectedColorTab ==='backgroundColor'}">Realce do texto</span>
            </div>
            <div class="imgc-ctnt is-color extra-gt1">
                <form autocomplete="off">
                    <div class="form-group">
                        <label for="hexInput" class="small">Cor</label>
                        <input type="text" class="form-control-sm" id="hexInput" name="hexInput" maxlength="7" placeholder="Cor" [(ngModel)]="hexColor" required>
                    </div>
                    <button type="button" class="btn-primary btn-sm btn" (click)="insertColor(hexColor, selectedColorTab)">Salvar</button>
                </form>
            </div>
        </div>
    </ng-template>
    
    <ng-template #insertLinkTemplate>
        <div class="ngxe-popover extra-gt">
            <form [formGroup]="urlForm" (ngSubmit)="urlForm.valid && insertLink()" autocomplete="off">
                <div class="form-group">
                    <label for="urlInput" class="small">URL</label>
                    <input type="text" class="form-control-sm" id="URLInput" placeholder="URL" formControlName="urlLink" required>
                </div>
                <div class="form-group">
                    <label for="urlTextInput" class="small">Texto</label>
                    <input type="text" class="form-control-sm" id="urlTextInput" placeholder="Text" formControlName="urlText" required>
                </div>
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="urlNewTab" formControlName="urlNewTab">
                    <label class="form-check-label" for="urlNewTab">Abrir em nova guia</label>
                </div>
                <button type="submit" class="btn-primary btn-sm btn">Salvar</button>
            </form>
        </div>
    </ng-template>
    
    <ng-template #insertImageTemplate>
        <div class="ngxe-popover imgc-ctnr">
            <div class="imgc-topbar btn-ctnr">
                <button type="button" class="btn" [ngClass]="{active: isImageUploader}" (click)="isImageUploader = true">
                    <i class="fa fa-upload"></i>
                </button>
                <button type="button" class="btn" [ngClass]="{active: !isImageUploader}" (click)="isImageUploader = false">
                    <i class="fa fa-link"></i>
                </button>
            </div>
            <div class="imgc-ctnt is-image">
                <div *ngIf="isImageUploader; else insertImageLink"> </div>
                <div *ngIf="!isImageUploader; else imageUploder"> </div>
                <ng-template #imageUploder>
                    <div class="ngx-insert-img-ph">
                        <p *ngIf="uploadComplete">Choose Image</p>
                        <p *ngIf="!uploadComplete">
                            <span>Uploading Image</span>
                            <br>
                            <span>{{ updloadPercentage }} %</span>
                        </p>
                        <div class="ngxe-img-upl-frm">
                            <input type="file" (change)="onFileChange($event)" accept="image/*" [disabled]="isUploading" [style.cursor]="isUploading ? 'not-allowed': 'allowed'">
                        </div>
                    </div>
                </ng-template>
                <ng-template #insertImageLink>
                    <form class="extra-gt" [formGroup]="imageForm" (ngSubmit)="imageForm.valid && insertImage()" autocomplete="off">
                        <div class="form-group">
                            <label for="imageURLInput" class="small">URL</label>
                            <input type="text" class="form-control-sm" id="imageURLInput" placeholder="URL" formControlName="imageUrl" required>
                        </div>
                        <button type="submit" class="btn-primary btn-sm btn">Salvar</button>
                    </form>
                </ng-template>
                <div class="progress" *ngIf="!uploadComplete">
                    <div class="progress-bar progress-bar-striped progress-bar-animated bg-success" [ngClass]="{'bg-danger': updloadPercentage<20, 'bg-warning': updloadPercentage<50, 'bg-success': updloadPercentage>=100}" [style.width.%]="updloadPercentage"></div>
                </div>
            </div>
        </div>
    </ng-template>
    
    
    <ng-template #insertVideoTemplate>
        <div class="ngxe-popover imgc-ctnr">
            <div class="imgc-topbar btn-ctnr">
                <button type="button" class="btn active">
                    <i class="fa fa-link"></i>
                </button>
            </div>
            <div class="imgc-ctnt is-image">
                <form class="extra-gt" [formGroup]="videoForm" (ngSubmit)="videoForm.valid && insertVideo()" autocomplete="off">
                    <div class="form-group">
                        <label for="videoURLInput" class="small">URL</label>
                        <input type="text" class="form-control-sm" id="videoURLInput" placeholder="URL" formControlName="videoUrl" required>
                    </div>
                    <div class="row form-group">
                        <div class="col">
                            <input type="text" class="form-control-sm" formControlName="height" placeholder="height (px)" (keypress)="onlyNumbers($event)">
                        </div>
                        <div class="col">
                            <input type="text" class="form-control-sm" formControlName="width" placeholder="width (px)" (keypress)="onlyNumbers($event)">
                        </div>
                        <label class="small">Altura/Largura</label>
                    </div>
                    <button type="submit" class="btn-primary btn-sm btn">Salvar</button>
                </form>
            </div>
        </div>
    </ng-template>
    
    <ng-template #fontSizeTemplate>
        <div class="ngxe-popover extra-gt1">
            <form autocomplete="off">
                <div class="form-group">
                    <label for="fontSize" class="small">Tamanho da Fonte</label>
                    <input type="text" class="form-control-sm" id="fontSize" name="fontSize" placeholder="Font size in px/rem" [(ngModel)]="fontSize" required>
                </div>
                <button type="button" class="btn-primary btn-sm btn" (click)="setFontSize(fontSize)">Salvar</button>
            </form>
        </div>
    </ng-template>
    
    <ng-template #fontNameTemplate>
        <div class="ngxe-popover extra-gt1">
            <form autocomplete="off">
                <div class="form-group">
                    <label for="fontSize" class="small">Fonte</label>
                    <input type="text" class="form-control-sm" id="fontSize" name="fontName" placeholder="Ex: 'Times New Roman', Times, serif" [(ngModel)]="fontName" required>
                </div>
                <button type="button" class="btn-primary btn-sm btn" (click)="setFontName(fontName)">Salvar</button>
            </form>
        </div>
    </ng-template>